<%- include('../partes/header') %>
<h2>Iniciar sesión</h2>
<form action="/login" method="POST">
  <label>Correo:</label>
  <input type="email" id="correo" name="correo" required>

  <label>Contraseña:</label>
  <input type="password" id="password" name="password" required>

  <button type="submit">Iniciar sesión</button>

  <button type="button" onclick="autocompletarLogin()">Acceso rápido profesor</button>
</form>

<script>
  // Función que consulta el backend y autocompleta el formulario
  async function autocompletarLogin() {
    try {
      const res = await fetch('/login/demo');
      const data = await res.json();

      if (data.error) {
        alert(data.error);
        return;
      }

      document.getElementById('correo').value = data.correo;
      document.getElementById('password').value = data.password;
    } catch (err) {
      console.error('Error al cargar usuario demo:', err);
      alert('No se pudo cargar el usuario demo');
    }
  }
</script>

<%- include('../partes/footer') %>